= Ρυθμίσεις Συστήματος

== Γενικές

[[locales]]
===  Γλώσσες
Οι κωδικοί των γλωσσών που υποστηρίζονται διαχωρισμένοι με κόμμα. Ο πρώτος κωδικός που δίνεται θεωρείται η προεπιλεγμένη γλώσσα του συστήματος.

Οι κωδικοί βασίζονται στο πρότυπο `https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes[ISO 639-1,window=_blank]`.

Αν δεν ορίσουμε κάποια τιμή τότε χρησιμοποιείται ο κωδικός `en`.

.Παράδειγμα, ο κωδικός el (Ελληνικά) θα είναι η προεπιλεγμένη γλώσσα.
----
el,en,es
----

=== Πρότυπο κωδικού ενοικίασης

Το πρότυπο από το οποίο παράγεται ο κωδικός μιας ενοικίασης σε μορφή https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/regex/Pattern.html[regular expression,window=_blank].

Αν δεν ορίσουμε κάποια τιμή τότε χρησιμοποιείται το πρότυπο `CR-[A-Z]\{6}-[0-9]\{8}`. +

Με αυτό το πρότυπο έχουμε τρία τμήματα, διαχωρισμένα με παύλα (-). Το πρώτο τμήμα του κωδικού θα ξεκινάει πάντα με `CR`. Το δεύτερο τμήμα θα αποτελείται από 6 κεφαλαίους χαρακτήρες του λατινικού αλφάβητου και το τελευταίο τμήμα από 8 αριθμούς.

.Παράδειγμα παραγόμενου κωδικού.
----
CR-IAMPAO-03021908
----

[NOTE]
====
Υπάρχει κανόνας για τους χαρακτήρες που πρέπει να έχει ένας κωδικός ενοικίασης.

Πρέπει να είναι έγκυρος σύμφωνα με το regular expression `^[A-Z][A-Z0-9_-]*$`.

* Να αρχίζει με ένα χαρακτήρα του λατινικού αλφαβήτου.
* Να ακολουθείται από χαρακτήρες του λατινικού αλφαβήτου, αριθμούς, καθώς και τους χαρακτήρες παύλα ( - ) και κάτω παύλα ( _ ).
* Όλοι οι χαρακτήρες να είναι κεφαλαίοι.
====

[[dashboard-embedded-id]]
=== Αναγνωριστικό πίνακα εργαλείων

Αν θέλουμε να συνδέσουμε την αρχική οθόνη με έναν πίνακα εργαλείων (dashboard) του Superset, συμπληρώνουμε στο πεδίο αυτό το αναγνωριστικό (embedded id) του πίνακα.

image::superset_embeddedId.png[]

[[google-api-key]]
=== Κλειδί API της Google

Το API-Key από το https://console.cloud.google.com/apis/dashboard[Google Cloud Console,window=_blank]. Πρέπει να έχει ενεργοποιημένο το `Places API (New)`, κατ' ελάχιστο.

=== ID τοποθεσίας της Google

To Google Place ID, το οποίο θα χρησιμοποιηθεί για να δείξει ratings και reviews για το συγκεκριμένο πελάτη.

Για να βρούμε το Place ID μπορούμε να χρησιμοποιήσουμε την υπηρεσία https://developers.google.com/maps/documentation/places/web-service/place-id[Google Place IDs,window=_blank]

image::google_place_ids.png[]

== Έξτρα Ώρες
Έξτρα ώρες υπάρχουν σε μια ενοικίαση όταν η ώρα παράδοσης του οχήματος είναι μεταγενέστερη της ώρας παραλαβής.

=== Τύπος χρέωσης
Όταν υπάρχουν έξτρα ώρες υπάρχουν δύο τύποι χρέωσης.

Επιπλέον ημέρα (WHOLE_DAY):: Ορίζεται ένα όριο δωρεάν ωρών όπου δε γίνεται επιπλέον χρέωση. Αν οι επιπλέον ώρες ξεπερνούν (>) αυτό το όριο τότε υπολογίζεται μια επιπλέον ημέρα στο σύνολο της κράτησης.

Ποσοστιαία (PERCENTAGE):: Ορίζεται ένα ποσοστό χρέωσης για τις επιπλέον ώρες επί της τιμής της ημέρας. Εάν το κόστος των επιπλέον ωρών ξεπεράσει την τιμή ημέρας, τότε προστίθεται μια ακόμα ημέρα στο σύνολο της κράτησης και δε χρεώνονται επιπλέον ώρες.

Ο προεπιλεγμένος τύπος χρέωσης είναι η `Επιπλέον ημέρα (WHOLE_DAY)`.

=== Τιμή

Ανάλογα αν ο τύπος χρέωσης είναι `WHOLE_DAY` ή `PERCENTAGE`, η τιμή συμβολίζει τις δωρεάν ώρες ή το ποσοστό χρέωσης αντίστοιχα.

Αν δεν ορίσουμε κάποια τιμή τότε η προεπιλεγμένη τιμή είναι 0. Οπότε ανάλογα με τον τύπο χρέωσης σημαίνει ότι δεν υπάρχουν δωρεάν έξτρα ώρες ή το ποσοστό χρέωσης είναι 0%.

== Νυχτερινές Ώρες
Ορίζεται ένα διάστημα ωρών και ένα σταθερό κόστος χρέωσης για παραλαβή και παράδοση του οχήματος εντός αυτού του διαστήματος.

Τα όρια του διαστήματος συνυπολογίζονται. Δηλαδή αν το διάστημα των νυχτερινών ωρών είναι 22:00-07:00 τότε αν ο πελάτης επιλέξει τα όρια του διαστήματος (22:00 ή 07:00) τότε θα επιβαρυνθεί με το κόστος των νυχτερινών ωρών.

=== Ώρα Έναρξης

Η ώρα που θέλουμε να ξεκινάει το διάστημα των νυχτερινών ωρών. Αν δεν οριστεί τότε δεν υπάρχει διάστημα.

=== Ώρα λήξης

Η ώρα που θέλουμε να τελειώνει το διάστημα των νυχτερινών ωρών. Αν δεν οριστεί τότε δεν υπάρχει διάστημα.

=== Κόστος

Το σταθερό κόστος χρέωσης για το διάστημα των νυχτερινών ωρών. Αν δεν ορίσουμε κάποιο κόστος, το προεπιλεγμένο είναι 0.00€, οπότε δεν υπάρχει χρέωση.

== Προγραμματισμένες Εργασίες

[[rental-reserved-period]]
=== Περίοδος δέσμευσης ενοικίασης (λεπτά)

Καθορίζει το χρόνο που μπορεί βρίσκεται μια ενοικίαση σε κατάσταση δέσμευσης (σε λεπτά), προτού το σύστημα την ακυρώσει.

Η προεπιλεγμένη τιμή είναι τα 60 λεπτά.

NOTE: Η ρύθμιση αυτή χρησιμοποιείται από την προγραμματισμένη εργασία xref:technical/scheduled-jobs.adoc#abandoned-rentals-job[Εγκαταλελειμμένες ενοικιάσεις].

[[rental-finished-offset]]
=== Χρονική μετατόπιση ολοκλήρωσης ενοικίασης (λεπτά)

Καθορίζει τη μετατόπιση (offset) από την ημερομηνία παράδοσης μιας ενοικίασης, έπειτα από την οποία η ενοικίαση μπορεί να θεωρηθεί ότι έχει ολοκληρωθεί και το όχημα σε επίπεδο πινακίδας μπορεί να αποδεσμευτεί.

.Παράδειγμα
[options="header,autowidth"]
|===
|Τιμή|Ημ/νία Παράδοσης|Ημ/νία ελέγχου ολοκλήρωσης
|120|03/04/2025 18:00|03/04/2025 20:00
|===

Η ελάχιστη τιμή που μπορεί να πάρει είναι τα 5 λεπτά. Η προεπιλεγμένη τιμή είναι τα 60 λεπτά.

NOTE: Η ρύθμιση αυτή χρησιμοποιείται από την προγραμματισμένη εργασία xref:technical/scheduled-jobs.adoc#finsish-rentals-job[Ολοκλήρωση ενοικιάσεων].

== Τιμολόγηση

=== Κλίμακα στρογγυλοποίησης τιμών

Καθορίζει τη στρογγυλοποίηση των τιμών στο κοντινότερο δεκαδικό ψηφίο.

Μπορεί να πάρει τις τιμές 0.1, 0.5, 1. Η προεπιλεγμένη τιμή είναι το 1.

.Παραδείγματα
[options="header,autowidth",cols=",^,^"]
|===
|Τιμή|Κλίμακα|Στρογγυλοποίηση
|12.3456|0.1|12.3
|12.3456|0.5|12.5
|12.3456|1|12
|===

=== Δεκαδικά ψηφία τιμών

Καθορίζει το πόσα δεκαδικά ψηφία θα έχουν οι τιμές στο site.

Η προεπιλεγμένη τιμή είναι τα 2 δεκαδικά ψηφία.

[[pricing-days]]
=== Ημέρες τιμολόγησης

Καθορίζει το πλήθος των ημερών για τις οποίες ο χρήστης υποχρεούται να ορίσει τιμές για τη Σεζόν.

Μπορεί να πάρει τιμές από 1 έως 30. Η προεπιλεγμένη τιμή είναι το 7.

Πρακτικά σημαίνει το πόσα πεδία τιμών θα εμφανιστούν στο UI για να συμπληρώσει ο χρήστης. Τα υπόλοιπα πεδία (αν και δε φαίνονται στο UI) θα συμπληρωθούν αυτόματα με την τιμή του τελευταίου πεδίου.

=== Συμπεριλαμβάνεται ο ΦΠΑ

Αν οι τιμές συμπεριλαμβάνουν ΦΠΑ ή όχι. Αν δε συμπεριλαμβάνεται τότε υπολογίζεται το ΦΠΑ στην τελική τιμή.

Αν δεν ορίσουμε τιμή τότε ο ΦΠΑ συμπεριλαμβάνεται στις τιμές.

=== ΦΠΑ

Το ποσοστό του ΦΠΑ. Η προεπιλεγμένη τιμή είναι το 24%.

== Όρια

=== Συντομότερος χρόνος ενοικίασης (ώρες)

Καθορίζει το ελάχιστο διάστημα (σε ώρες) πριν απο το οποίο *ΔΕΝ* επιτρέπεται στον πελάτη να κάνει κράτηση, με βάση την τωρινή ημ/νία και ώρα.

Η προεπιλεγμένη τιμή είναι η 1 ώρα.

NOTE: Το διάστημα αυτό μπορεί να οριστεί σε κάθε τοποθεσία ξεχωριστά. Αν δεν έχει οριστεί σε κάποια τοποθεσία τότε το σύστημα χρησιμοποιεί την τιμή που έχουμε ορίσει εδώ.

[[min-duration]]
=== Ελάχιστη διάρκεια ενοικίασης (ημέρες)

Η ελάχιστη διάρκεια που μπορεί να έχει μια ενοικίαση (σε ημέρες).

Η προεπιλεγμένη τιμή οι 0 ημέρες, δηλαδή μπορεί να οριστεί παράδοση και παραλαβή την ίδια ημέρα.

NOTE: Η ελάχιστη διάρκεια ενοικίασης μπορεί να οριστεί ανά Σεζόν και ανά τοποθεσία/ες. Αν δεν έχουν οριστεί σε αυτό το επίπεδο το σύστημα χρησιμοποιεί την τιμή που έχουμε ορίσει εδώ.

=== Χρονικά βήματα

Καθορίζει τις διαθέσιμες επιλογές ώρας στο UI.

Μπορεί να πάρει τις τιμές 0, 15, 30. Η προεπιλεγμένη τιμή είναι το 30.

.Παραδείγματα
[options="header,autowidth"]
|===
|Τιμή|Επιλογές
|0|... 12:00, 13:00, 14:00 ...
|15|... 12:00, 12:15, 12:30, 12:45, 13:00, 13:15 ...
|30|... 12:00, 12:30, 13:00, 13:30 ...
|===

=== Ελάχιστη ηλικία οδηγού

Η ελάχιστη ηλικία που μπορεί να έχει ο οδηγός.

Μπορεί να πάρει τιμές από 18 έως 80. Η προεπιλεγμένη τιμή είναι 21.

=== Μέγιστη ηλικία οδηγού

Η μέγιστη ηλικία που μπορεί να έχει ο οδηγός.

Μπορεί να πάρει τιμές από 18 έως 80. Η προεπιλεγμένη τιμή είναι 75.